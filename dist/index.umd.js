/*! For license information please see index.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.NeoOpenAPI=t():e.NeoOpenAPI=t()}(this,function(){return function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{axiosFetcher:function(){return p},xobject:function(){return y}});var r=require("@babel/runtime/helpers/extends"),a=e.n(r),n=require("@babel/runtime/helpers/asyncToGenerator"),s=e.n(n),u=require("@babel/runtime/regenerator"),o=e.n(u),c=require("axios"),d=e.n(c),i=function(){var e=s()(o().mark(function e(t){var r,n,s;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"GET"===(null==(r=a()({},t,{method:(null==t?void 0:t.method)||"GET",data:(null==t?void 0:t.data)||{},headers:a()({"Content-Type":"application/json"},null==t?void 0:t.headers),timeout:(null==t?void 0:t.timeout)||3e4}))?void 0:r.method)&&(r.params=(null==t?void 0:t.data)||{}),e.next=1,d()(r);case 1:return n=e.sent,e.abrupt("return",(null==n?void 0:n.data)||{});case 2:throw e.prev=2,(s=e.catch(0)).response?console.error("接口请求报错 / 接口服务异常：",s.message):s.request?console.error("接口请求报错 / 接口未正常响应：",s.message):console.error("接口请求报错:",s,"，请求参数:",t),s;case 3:case"end":return e.stop()}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),p=i,m=function(){var e=s()(o().mark(function e(t){var r,a,n,s,u,c,d,i,m,l,f,g,v;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(r=t||{}).xObjectApiKey||"",n=r.fields||[],s=r.page||1,u=r.pageSize||10,n.includes("id")||n.push("id"),c=(s-1)*u,d="select "+n.join(",")+" from "+a,r.orderBy&&(d+=" order by "+r.orderBy),(r.page||r.pageSize)&&(d+=" limit "+u+" offset "+c),e.prev=1,i={url:"/rest/data/v2/query",method:"GET",data:{q:d}},e.next=2,p(i);case 2:if(200!==(m=e.sent).code){e.next=3;break}return l=m.result||{},f=l.records,g=l.totalSize,e.abrupt("return",{status:!0,code:m.code,msg:m.msg||"获取业务对象数据列表成功",totalSize:g,data:f||[]});case 3:return e.abrupt("return",{status:!1,code:m.code,msg:m.msg||"获取业务对象数据列表失败",data:[]});case 4:return e.prev=4,v=e.catch(1),console.error("获取业务对象数据列表失败:",v),e.abrupt("return",{status:!1,msg:v.msg||v.message||"获取业务对象数据列表失败",data:[]});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=s()(o().mark(function e(t,r){var n,s,u,c,d,i,m,l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r||{},s="/rest/data/v2.0/xobjects/"+t+"/busiType",e.prev=1,u=a()({},n,{url:s,method:"GET"}),e.next=2,p(u);case 2:if(200!==(c=e.sent).code&&"200"!==c.code){e.next=3;break}return d=c.data||{},i=d.records,m=d.totalSize,e.abrupt("return",{status:!0,code:c.code,msg:c.msg||"获取业务类型列表成功",totalSize:m,data:i||[]});case 3:return e.abrupt("return",{status:!1,code:c.code,msg:c.msg||"获取业务类型列表失败",data:[]});case 4:return e.prev=4,l=e.catch(1),console.error("获取业务类型列表失败:",l),e.abrupt("return",{status:!1,msg:l.msg||l.message||"获取业务类型列表失败",data:[]});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=s()(o().mark(function e(t){var r,n,s,u,c,d,i,m,l,f;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=t||{}).custom||!1,s=r.active||!0,u="/rest/metadata/v2.0/xobjects/filter?custom="+n+"&active="+s,e.prev=1,c=a()({},r,{url:u,method:"GET"}),e.next=2,p(c);case 2:if("0"!==(d=e.sent).code&&0!==d.code&&"200"!==d.code&&200!==d.code){e.next=3;break}return i=d.data||{},m=i.records,l=i.totalSize,e.abrupt("return",{status:!0,code:d.code,msg:d.msg||"获取对象列表成功",totalSize:l,data:m||[]});case 3:return e.abrupt("return",{status:!1,code:d.code,msg:d.msg||"获取对象列表失败",data:[]});case 4:return e.prev=4,f=e.catch(1),console.error("获取对象列表失败:",f),e.abrupt("return",{status:!1,msg:f.msg||f.message||"获取对象列表失败",data:[]});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=s()(o().mark(function e(t,r){var n,s,u,c,d,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="/rest/data/v2.0/xobjects/"+t,u=(n=r||{}).data||{},e.prev=1,c=a()({},r,{url:s,method:n.method||"POST",data:{data:u}}),e.next=2,p(c);case 2:if("200"!==(d=e.sent).code&&200!==d.code){e.next=3;break}return e.abrupt("return",{status:!0,code:d.code,msg:d.msg||"创建业务数据成功",data:d.data||{}});case 3:return e.abrupt("return",{status:!1,code:d.code,msg:d.msg||"创建业务数据失败",data:{}});case 4:return e.prev=4,i=e.catch(1),console.error("创建业务数据失败:",i),e.abrupt("return",{status:!1,msg:i.msg||i.message||"创建业务数据失败",data:{}});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=s()(o().mark(function e(t,r,n){var s,u,c,d,i,m;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u="/rest/data/v2.0/xobjects/"+t+"/"+r,c=(s=n||{}).data||{},e.prev=1,d=a()({},s,{url:u,method:s.method||"PATCH",data:{data:c}}),e.next=2,p(d);case 2:if("200"!==(i=e.sent).code&&200!==i.code){e.next=3;break}return e.abrupt("return",{status:!0,code:i.code,msg:i.msg||"更新业务数据成功",data:i.data||{}});case 3:return e.abrupt("return",{status:!1,code:i.code,msg:i.msg||"更新业务数据失败",data:{}});case 4:return e.prev=4,m=e.catch(1),console.error("更新业务数据失败:",m),e.abrupt("return",{status:!1,msg:m.msg||m.message||"更新业务数据失败",data:{}});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r,a){return e.apply(this,arguments)}}(),b=function(){var e=s()(o().mark(function e(t,r,n){var s,u,c,d,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n||{},u="/rest/data/v2.0/xobjects/"+t+"/"+r,e.prev=1,c=a()({},s,{url:u,method:s.method||"GET"}),e.next=2,p(c);case 2:if("200"!==(d=e.sent).code&&200!==d.code){e.next=3;break}return e.abrupt("return",{status:!0,code:d.code,msg:d.msg||"获取业务数据成功",data:d.data||{}});case 3:return e.abrupt("return",{status:!1,code:d.code,msg:d.msg||"获取业务数据失败",data:{}});case 4:return e.prev=4,i=e.catch(1),console.error("获取业务数据失败:",i),e.abrupt("return",{status:!1,msg:i.msg||i.message||"获取业务数据失败",data:{}});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r,a){return e.apply(this,arguments)}}(),h=function(){var e=s()(o().mark(function e(t,r,n){var s,u,c,d,i;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n||{},u="/rest/data/v2.0/xobjects/"+t+"/"+r,e.prev=1,c=a()({},s,{url:u,method:s.method||"DELETE"}),e.next=2,p(c);case 2:if("200"!==(d=e.sent).code&&200!==d.code){e.next=3;break}return e.abrupt("return",{status:!0,code:d.code,msg:d.msg||"删除业务数据成功"});case 3:return e.abrupt("return",{status:!1,code:d.code,msg:d.msg||"删除业务数据失败"});case 4:return e.prev=4,i=e.catch(1),console.error("删除业务数据失败:",i),e.abrupt("return",{status:!1,msg:i.msg||i.message||"删除业务数据失败"});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r,a){return e.apply(this,arguments)}}(),x=function(){var e=s()(o().mark(function e(t,r){var n,s,u,c,d;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r||{},s="/rest/data/v2.0/xobjects/"+t+"/description",e.prev=1,u=a()({},r,{url:s,method:n.method||"GET"}),e.next=2,p(u);case 2:if("200"!==(c=e.sent).code&&200!==c.code){e.next=3;break}return e.abrupt("return",{status:!0,code:c.code,msg:c.msg||"获取业务对象描述数据成功",data:c.data||{}});case 3:return e.abrupt("return",{status:!1,code:c.code,msg:c.msg||"获取业务对象描述数据失败",data:{}});case 4:return e.prev=4,d=e.catch(1),console.error("获取业务对象描述数据失败:",d),e.abrupt("return",{status:!1,msg:d.msg||d.message||"获取业务对象描述数据失败",data:{}});case 5:case"end":return e.stop()}},e,null,[[1,4]])}));return function(t,r){return e.apply(this,arguments)}}(),y={query:m,getEntityTypeList:l,getEntityList:f,getDesc:x,create:g,update:v,get:b,delete:h};return t}()});